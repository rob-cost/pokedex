let pokemonRepository=function(){let t=[];function e(e){"object"==typeof e&&"name"in e?t.push(e):console.log("Pokemon is not correct")}function n(){return t}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){for(i=0,t.imageUrl=e.sprites.other["official-artwork"].front_default,t.height=e.height,t.abilities=[];i<e.abilities.length;i++)t.abilities.push(e.abilities[i].ability.name);for(e.abilities.length>1&&(t.abilities=t.abilities.join(", ")),t.types=[],i=0;i<e.types.length;i++)t.types.push(e.types[i].type.name);e.types.length>1&&(t.types=t.types.join(", "))}).catch(function(t){console.error(t)})}function a(t){o(t).then(function(){var e;let n,o,a,l,p,s,r;e=t,n=$(".modal-body"),(o=$(".modal-title")).empty(),n.empty(),a=$("<h3>"+e.name+"</h3>"),(l=$('<img class = "img-fluid">')).attr("alt","Pokemon-image"),l.attr("src",e.imageUrl),p=$("<p>Height : "+e.height+"</p>"),s=$("<p>Ability : "+e.abilities+"</p>"),r=$("<p>Types : "+e.types+"</p>"),o.append(a),n.append(l),n.append(p),n.append(s),n.append(r)})}return{add:e,getAll:n,addListItem:function t(e){let n=$(".list-group"),o=$("<li></li>"),l=$("<button></button>");l.text(e.name.charAt(0).toUpperCase()+e.name.slice(1)),o.addClass("list-group-item"),l.addClass("btn btn-block"),o.append(l),n.append(o),l.attr("tabindex","0"),l.on("click",function(){a(e),$("#exampleModal").modal("show")})},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?offset=50&limit=50#").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:o,showDetails:a}}();$("#search-input").on("input",function(t){t.preventDefault();let e=$("#search-input").val().trim().toLowerCase(),n=pokemonRepository.getAll(),o=$(".list-group");o.empty();let a=n.filter(function(t){return t.name.toLowerCase().includes(e)});a.length>0?a.forEach(function(t){pokemonRepository.addListItem(t)}):o.append($('<li class="list-group-item text-center h3 text-dark"> No Pokemon Found </li>'))}),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});